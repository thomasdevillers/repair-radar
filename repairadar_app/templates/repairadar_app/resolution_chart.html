{% extends "repairadar_app/base.html" %}
{% block content %}
<button id="toggleButton" class="btn btn-primary mt-3">Toggle Charts Type</button>


<h2 class="mt-2">Overall Satisfaction Of Users</h2>
<canvas id="overall_rating" width="1000" height="600"></canvas>
<script>
    let currentChartType = 'bar';
    const dataOverall = {{ ratings_count_overall|safe }};
    const ctxOverall = document.getElementById('overall_rating').getContext('2d');
    const myChartOverall = new Chart(ctxOverall, {
        type: currentChartType,
        data: {		
            labels: Object.keys(dataOverall),
            datasets: [
                {
                    label: 'Overall Satisfaction Of Customers',
                    data: Object.values(dataOverall),
                },
            ],
        },
        options: {}
    });
</script>
<div class='mt-5'></div>
<h2 class="mt-2">Overall Timeliness of Repair</h2>
<canvas id="time_rating" width="1000" height="600"></canvas>
<script>
    const dataTime = {{ ratings_count_time|safe }};
    const ctxTime = document.getElementById('time_rating').getContext('2d');
    const myChartTime = new Chart(ctxTime, {
        type: 'bar',
        data: {		
            labels: Object.keys(dataTime),
            datasets: [
                {
                    label: 'Overall Timeliness of Repairs',
                    data: Object.values(dataTime),
                },
            ],
        },
        options: {}
    });
</script>
<div class='mt-5'></div>
<h2 class="mt-2">Overall Communication From Staff</h2>
<canvas id="communication_rating" width="1000" height="600"></canvas>
<script>
    const dataCommunication = {{ ratings_count_communication|safe }};
    const ctxCommunication = document.getElementById('communication_rating').getContext('2d');
    const myChartCommunication = new Chart(ctxCommunication, {
        type: 'bar',
        data: {		
            labels: Object.keys(dataCommunication),
            datasets: [
                {
                    label: 'Overall Communication From Staff',
                    data: Object.values(dataCommunication),
                },
            ],
        },
        options: {}
    });
</script>

{% endblock %}

